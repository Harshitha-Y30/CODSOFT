<!-- frontend/welcome.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Welcome | LocalStore</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
      font-family: 'Segoe UI', sans-serif;
    }
    .container {
      height: 100vh;
    }
    .welcome-box {
      background-color: white;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,0,0,0.05);
    }
    .poem {
      font-style: italic;
      color: #6c757d;
    }
  </style>
</head>
<body>
  <div class="container d-flex justify-content-center align-items-center">
    <div class="welcome-box text-center">
      <h2>Welcome to LocalStore âœ¨</h2>
      <p class="poem">"In every lane a story flows,<br/> Local hearts where goodness grows."</p>
      <form id="pincodeForm">
        <div class="mb-3">
          <label for="pincode" class="form-label">Enter your PIN code</label>
          <input type="text" class="form-control" id="pincode" name="pincode" required pattern="\d{6}" placeholder="e.g. 516001">
        </div>
        <button type="submit" class="btn btn-primary w-100">Continue</button>
      </form>
    </div>
  </div>

  <!-- Keep the same HTML structure, but replace all scripts with this single one: -->
   <script>
  document.getElementById('pincodeForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const pincode = document.getElementById('pincode').value;
    
    try {
      // Mock response - in real app call your backend API
      const mockResponse = {
        success: true,
        latitude: 14.4673, // Kadapa coordinates
        longitude: 78.8242,
        city: 'Kadapa',
        state: 'Andhra Pradesh'
      };
      
      // Store location
      sessionStorage.setItem('userLocation', JSON.stringify({
        lat: mockResponse.latitude,
        lng: mockResponse.longitude,
        pincode: pincode,
        city: mockResponse.city,
        state: mockResponse.state
      }));
      
      // Redirect back to main.html
      window.location.href = "rough.html";
    } catch (err) {
      alert("Error saving location! Please try again.");
    }
  });
</script>
</body>
</html>